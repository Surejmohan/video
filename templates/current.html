{% extends 'base/base.html' %}

{% block script %} 
<script defer src="{{ url_for('static',filename = 'js/current.js')}}"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
<script>
var textWrapper = document.querySelector('.ml2');
textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

anime.timeline({loop: true})
.add({
targets: '.ml2 .letter',
scale: [4,1],
opacity: [0,1],
translateZ: 0,
easing: "easeOutExpo",
duration: 950,
delay: (el, i) => 70*i
}).add({
targets: '.ml2',
opacity: 0,
duration: 1000,
easing: "easeOutExpo",
delay: 1000
});var textWrapper = document.querySelector('.ml2');
textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

anime.timeline({loop: true})
.add({
targets: '.ml2 .letter',
scale: [4,1],
opacity: [0,1],
translateZ: 0,
easing: "easeOutExpo",
duration: 950,
delay: (el, i) => 70*i
}).add({
targets: '.ml2',
opacity: 0,
duration: 1000,
easing: "easeOutExpo",
delay: 1000
});

function processing()
{
  if(document.getElementById("fileupload").checkValidity() && document.getElementById("videobutton").checkValidity()){
  document.getElementById("curent").style.display = 'none'
  document.getElementById("loading").style.display = 'block'
  document.getElementById("videocheck").submit()
  }

}

function processingthird()
{
  if(document.getElementById("fileupload").checkValidity() && document.getElementById("secondList").checkValidity()){
  document.getElementById("curent").style.display = 'none'
  document.getElementById("loading").style.display = 'block'
  document.getElementById("videocheck").submit()
  }

}

</script>

{% endblock %}

{% block style %} 
<link href="{{ url_for('static',filename = 'css/current.css')}}" rel="stylesheet">
{% endblock %}


{% block navbar %}
      <nav id="nav-menu-container">
        <ul class="nav-menu pull-right">
         <span style="color: white;">Username </span><li class="menu-active"></li><a href="#"><b>Logout</b></a></li>
        </ul>
      </nav>
{% endblock %}

      {% block body %} 

      <div class="container-fluid" id="curent" style="margin-top: 100px;border-color:#2dc997; border-radius: 10px; margin-bottom: 30px; border-style: solid; max-width: 90%; min-width: 300px;">
      <form action="http://localhost:5000/upload" method="POST" enctype="multipart/form-data" id="videocheck" >
        
          <div class="row">
            
                <label class="control-label"></label>
                
                      <div style="margin: 20px;"><b>Upload File</b></div>
                    </div>
                    <div class="box-body" id = "review" style="margin: 30px;">
                
                    <i class="glyphicon glyphicon-download-alt"></i>
                    <p>Choose  Image files or drag it here(max Two Images).</p>
                  </div>
                  <div class="row">
                  <div style="margin: 30px;">
                  <input type="file" id ="fileupload" name="file" accept=".jpg,.jpeg,.png" class="dropzone" multiple required>
                  </div>
              <div id="dvPreview"></div>
            
            </div>
          <div class="row">
            
            <button type="button" id = "up1" class="btn btn-primary pull-left"style="max-width: 300px; margin: 10px;background-color:#2dc997;" onclick="video()"href="#video" >Upload Input Video</button>

            <button type="button" id = "up2"  class="btn btn-primary pull-left" style="max-width: 300px; margin: 10px;background-color:#2dc997;" onclick="third()" href="#third">Upload Info About Video Source
          </button>
            </div>
            <div id = "video">
            </div>
            <div id = "third">
            </div>
      
      </form>
    </div>
    <div id = "loading" style="display:none;margin-top: 10%;margin-bottom:16%;">

    <h1 class="ml2"> <i> Processing...Please wait...</i></h1>

    <div class="loader">
      <div class="holder">
          <div class="box"></div>
      </div>
      <div class="holder">
          <div class="box"></div>
      </div>
      <div class="holder">
          <div class="box"></div>
      </div>
  </div>
  </div>
  


    
    <!---->
    
    {% endblock %}

